<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <title>Capstone Estanterías + Gancho (sin Orbit)</title>
  <style>
    * {
      box-sizing: border-box
    }

    body {
      margin: 0;
      overflow: hidden;
      font-family: system-ui
    }

    .ui {
      position: fixed;
      top: 12px;
      left: 12px;
      width: 380px;
      padding: 12px;
      background: #111a;
      color: #eee;
      backdrop-filter: blur(6px);
      border-radius: 12px
    }

    .row {
      display: flex;
      gap: 8px;
      margin: .5rem 0
    }

    textarea {
      width: 100%;
      height: 78px;
      resize: vertical;
      background: #0008;
      color: #fff;
      border: 1px solid #555;
      border-radius: 8px;
      padding: 8px
    }

    button,
    select,
    input {
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #444;
      background: #222;
      color: #fff
    }

    .hint {
      font-size: .85rem;
      color: #ccc
    }

    .pill {
      padding: 2px 8px;
      border: 1px solid #555;
      border-radius: 999px;
      font-size: .75rem
    }

    @media (max-width:1100px) {
      #resultsPanel {
        top: auto;
        bottom: 12px;
        width: 92vw;
        left: 4vw;
        right: auto
      }
    }
  </style>
</head>

<body>
  <div class="ui">
    <div class="row" style="justify-content:space-between; align-items:center">
      <div class="pill">R³→R³</div>
      <select id="shelfXMode">
        <option value="3x3">Estantería X: 3x3</option>
        <option value="1x1">Estantería X: 1x1 (agujero centrado)</option>
      </select>
      <button id="resetBtn">Reset</button>
    </div>

    <label>Matriz 3x3 (R³→R³)</label>
    <textarea id="mat33">[[1,0,0],[0,1,0],[0,0,1]]</textarea>

    <label>Vector 3x1 (R³→R¹)</label>
    <div class="row">
      <input id="vec31" value="[1,0,0]" style="flex:1" />
      <button id="applyMat">Aplicar</button>
    </div>
    <div class="hint">• R³→R³ transforma posiciones • R³→R¹ proyecta a escalar</div>

    <label>Matriz resultado esperada (Nx3)</label>
    <textarea id="matResult" placeholder="Ej:
[-0.8,0.2,2.3]
[-0.8,0.2,1.1]
..."></textarea>
    <div class="row">
      <button id="compareBtn">Comparar</button>
      <span class="hint" id="compareMsg"></span>
    </div>


    <br />
    <h2>Garra</h2>
    <div class="row">
      <button id="toggleClaw">Abrir/Cerrar</button>
      <button id="pick">Pick</button>
      <button id="place">Place</button>
      <button id="snap">Snap</button>
    </div>
    <!--
    <div class="hint">Rotar estanterías: Z+ → (1/2) • X+ → (3/4)</div>\
    -->
    <div class="hint">
      Mover garra: WASD/QE
    </div>
    <div class="hint">
      Mover bolita: flechas
    </div>
    <div class="hint">
      Mover cámara:
      <div class="hint">
        Rotar en Y (Izquiera a derecha): J
      </div>
      <div class="hint">
        Rotar en Y (Derecha a izquierda): L
      </div>
      <div class="hint">
        Elevar la camara (Abajo a arriba): I
      </div>
      <div class="hint">
        Bajar la camara (Arriba a abajo): K
      </div>
      <div class="hint">
        Zoom in: U
      </div>
      <div class="hint">
        Zoom out: O
      </div>
    </div>
  </div>

  <div class="ui" id="resultsPanel" style="right:12px; left:auto; width:420px">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem">
      <strong>Resultados</strong>
      <button id="clearResults">Limpiar</button>
    </div>
    <div class="hint">Matriz y vector ingresados</div>
    <pre id="mInfo" style="white-space:pre-wrap"></pre>
    <div class="hint">Posiciones de cajas (antes → después) y proyección v·p</div>
    <div id="posTables" style="max-height:42vh; overflow:auto; font-size:.9rem"></div>
  </div>


  <script src="https://unpkg.com/mathjs@11.11.0/lib/browser/math.js"></script>
  <script type="module" src="./main.js"></script>
</body>

</html>